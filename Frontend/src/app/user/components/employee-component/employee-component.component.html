<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    Employees
    <button type="button" class="btn btn-sm btn-primary" (click)="getAdd()">Add</button>
  </div>
  <div class="card-body">
    <table class="table table-bordered table-striped" *ngIf="employeesList">
      <thead>
        <tr>
          <th>Name</th>
          <th class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of employeesList">
          <td>{{emp.name}}</td>
          <td class="text-center">
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-primary" (click)="getEdit(emp.id)">Edit</button>
              <button type="button" class="btn btn-danger" (click)="delete(emp.id)">Delete</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #Add let-modal>
  <div class="modal-header">
    <h4 class="modal-title">
      Add Employee
    </h4>
  </div>
  <form [formGroup]="addForm" (ngSubmit)="postAdd()">
    <div class="modal-body">
      <label class="form-label">Name</label>
      <input formControlName="name" class="form-control">
      <div class="form-text text-danger" *ngIf="addForm.get('name').invalid && addForm.get('name').errors && (addForm.get('name').dirty || addForm.get('name').touched)">This field is required</div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-sm btn-light" (click)="modal.dismiss()">
        Cancel
      </button>
      <button type="submit" class="btn btn-sm btn-primary">Save</button>
    </div>
  </form>
</ng-template>
<ng-template #Edit let-modal>
  <div class="modal-header">
    <h4 class="modal-title">
      Edit Employee
    </h4>
  </div>
  <form [formGroup]="editForm" (ngSubmit)="postEdit()">
    <div class="modal-body">
      <label class="form-label">Name</label>
      <input formControlName="name" class="form-control">
      <input formControlName="id" type="hidden" class="form-control">
      <div class="form-text text-danger" *ngIf="editForm.get('name').invalid && editForm.get('name').errors && (editForm.get('name').dirty || editForm.get('name').touched)">This field is required</div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-sm btn-light" (click)="modal.dismiss()">
        Cancel
      </button>
      <button type="submit" class="btn btn-sm btn-primary">Save</button>
    </div>
  </form>
</ng-template>
